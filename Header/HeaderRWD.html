<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS v5.0.2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        /* 以下為模組化 */
        :root{
            --primary_color1: #b99664;
            --primary_color2: #dcd5ca;
            --secondary_color1: #903f23;
            --secondary_color2: #a5b6a4;
            --desktop_title: 1.125rem; /*18px*/
        }
        *{
            box-sizing: border-box;
            list-style: none;
        }
        ul{
          padding-inline-start: 0px;  /*取消bootstrap ul預設樣式*/
          margin-bottom: 0px;
        }
        a{
            color: white;
            text-decoration: none;
        }
        /* 模組化結束 */


        header{
            height: 180px;
            background: white;
            box-shadow: 0 5px 5px rgba(185, 150, 100, .25);
            position: sticky;
            top: 0;
        }
        .desktop_figure{
            width: 140px;
        }
        .search_item{
            position: relative;
        }
        .search_bar{
            width: 200px;
            height: 40px;
            border-radius: 20px;
        }
        .search_icon{
            position: absolute;
            right: 12px;
            top: 5px;
        }
        .menu2 a{
            display: block;
            color: black;
            text-decoration: none;
            padding: 9px 34px;
            border-radius: 22.5px;
            font-size: var(--desktop_title);
            font-weight: bold;
        }
        .menu2 a:hover{
          color: white;
          background: var(--primary_color1);
        }

        /*以下為手機版*/
        @media screen and (max-width:768px) {
            header{
                height: 90px;
                box-shadow: none;
            }
            .mobile_figure, .mobile_figure img{
                width: 85px;                
            }
            .mobile_menu{
                width: calc(100% - 1.1rem);
                position: absolute;
                top: 52px;
            }
            .offcanvas_left{
                width: 70%;
            }
            .offcanvas_left_menu{
                background: #b99664;
            }
            .offcanvas_left_menu li{
                height: 25vh;
                position: relative;
                border-bottom: 1px solid white;
            }
            .offcanvas_left_menu .last_li{
                border-bottom: none;
            }
            .offcanvas_left_menu a{
                display: block;
                font-size: .875rem; /*14px*/
                text-align: center;
                position: absolute;
                top: 50%;
                left: 50%;
                margin-left: -28px;
                margin-top: -10px;
            }
            .mobile_search_bar_section{
                /* display: none; */
                position: sticky;
                top: 90px;
                padding-left: 0px;  /*取消bootstrap padding, margin預設樣式*/
                padding-right: 0px;
                margin-top: 0rem !important;
            }
            .mobile_search_bar{
                width: 80%;
                border-top: none;
                border-left: none;
                border-right: none;
                border-bottom: 2px solid var(--primary_color1);
                margin: 0 auto;
                opacity: .9;
                
            }
            .mobile_search_btn, .mobile_search_btn:hover{
                border-radius: 0%;
                width: 20%;
                color: white;
                background-color: var(--primary_color1) ;
                font-size: .875rem; /*14px*/
            }
        }
    </style>
  </head>
  <body>
      <header class="container-fluid">
        <div class="d-none d-md-flex justify-content-between">
            <div class="d-flex">
                <figure class="desktop_figure mx-5 mt-4">
                    <a href="#/">
                    <img src="Logo.svg" alt="#">
                    </a>
                </figure>
                <li class="search_item d-none d-md-block mt-5">
                    <input class="search_bar" type="text">
                    <a href="#/" class="search_icon"><img src="Search.svg" alt="#"></a>
                </li>
            </div>
            <ul class="menu1 d-none d-md-flex pt-4">
                <li class="shopcart_item mt-3 me-5"><img src="Shopcart1.svg" alt="#"></li>
                <li class="profile_item mt-3 me-5"><img src="未登入.svg" alt="#"></li>
            </ul>
        </div>
            <ul class="menu2 d-none d-md-flex justify-content-around pt-4">
                <li><a href="#/">主題企劃</a></li>
                <li><a href="#/">活動資訊</a></li>
                <li><a href="#/">購物商城</a></li>
                <li><a href="#/">文章專欄</a></li>
                <li><a href="#/">關於我們</a></li>
            </ul>

        <!-- 以下為手機版 -->
        <figure class="mobile_figure d-md-none mx-auto pt-5">
            <a href="#/">
                <img src="Logo.svg" alt="#">
            </a>
        </figure>
        <ul class="mobile_menu d-flex justify-content-between d-md-none">
            <figure>
                <a class="mobile_menu_burger" data-bs-toggle="offcanvas" href="#offcanvas_left" role="button" aria-controls="offcanvasExample">
                    <img src="Hamburger.svg" alt="">
                </a>
            </figure>
            <ul class="d-flex">
                <figure class="me-3">
                    <a href="#/" class="search_toggle">
                        <img src="MobileSearch.svg" alt="">
                    </a>
                </figure>
                <figure>
                    <a class="mobile_menu_more" data-bs-toggle="offcanvas" href="#offcanvas_right" role="button" aria-controls="offcanvasExample">
                        <img src="More.svg" alt="">
                    </a>
                </figure>
            </ul>
        </ul>

        <!-- offcanvas效果 -->
        <div class="offcanvas_left offcanvas offcanvas-start d-md-none" tabindex="-1" id="offcanvas_left" aria-labelledby="offcanvasExampleLabel">
            <ul class="offcanvas_left_menu offcanvas-body d-flex flex-column justify-content-around">
                <li class="d-none"><button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button></li> <!-- li包的button是關閉canvas的按鈕-->
                <li><a href="#/">主題企劃</a></li>
                <li><a href="#/">活動資訊</a></li>
                <li><a href="#/">購物商城</a></li>
                <li><a href="#/">文章專欄</a></li>
                <li class="last_li"><a href="#/">關於我們</a></li>
            </ul>
        </div>

        <div class="offcanvas_left offcanvas offcanvas-end d-md-none" tabindex="-1" id="offcanvas_right" aria-labelledby="offcanvasExampleLabel">
            <ul class="offcanvas_left_menu offcanvas-body d-flex flex-column justify-content-around">
                <li class="d-none"> <!-- li包的button是關閉canvas的按鈕-->
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </li> 
                <li><a href="#/">購物車</a></li>
                <li><a href="#/">我的活動</a></li>
                <li><a href="#/">我的收藏</a></li>
                <li><a href="#/">帳戶設定</a></li>
                <li><a href="#/">變更密碼</a></li>
                <li class="last_li"><a href="#/">我的訂單</a></li>
            </ul>
        </div>
      </header>

      <!-- 手機版隱藏式搜尋欄 -->
      <section class="mobile_search_bar_section container-fluid d-md-none my-1" style="display: none;">
        <input class="mobile_search_bar p-2" type="text">
        <button class="mobile_search_btn btn">搜尋</button>
      </section>

    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script>
        //1. 當視窗大於768寬度，會觸發點擊.btn-close按鈕，自動關閉offcanvas
        $(window).resize(function() {
            wdth=$(window).width();
            if(wdth>=768){
                $('.btn-close').trigger("click");
            }
        });


        let searchToggle = document.querySelector('.search_toggle'); //手機版放大鏡按鈕
        let sectionToggle = document.querySelector('.mobile_search_bar_section'); //隱藏式搜尋欄
        let burger = document.querySelector('.mobile_menu_burger'); //手機版漢堡選單
        let more = document.querySelector('.mobile_menu_more'); //手機版...選單


        //2. 手機版點選放大鏡圖片，會顯示手機搜尋欄，再按一次則隱藏
        searchToggle.addEventListener('click',()=>{
            if(sectionToggle.style.display === "none"){
                sectionToggle.style.display = "flex";
            }else{
                sectionToggle.style.display = "none";
            }
        })

        //3. 如果有顯示手機搜尋欄，按下漢堡選單，會隱藏手機搜尋欄
        burger.addEventListener('click',()=>{
            if(sectionToggle.style.display === "flex"){
                sectionToggle.style.display = "none";
                }
            }
        )

        //4. 如果有顯示手機搜尋欄，按下...選單，會隱藏手機搜尋欄
        more.addEventListener('click',()=>{
            if(sectionToggle.style.display === "flex"){
                sectionToggle.style.display = "none";
                }
            }
        )

    </script>
  </body>
</html>